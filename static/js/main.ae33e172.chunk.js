(this.webpackJsonpart_and_commerce_site=this.webpackJsonpart_and_commerce_site||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(0),a=c.n(i),s=c(16),o=c.n(s),l=(c(24),c(4)),r=c(12),j=c(2),d=c(17),u=c.n(d),h=c.p+"static/media/shop_card_default.0fa54fe9.png";function b(e){var t=e.title,c=e.images,a=e.price,s=(e.sold,e.rotation),o=Object(i.useState)(0),r=Object(l.a)(o,2),j=r[0],d=(r[1],Object(i.useState)(!1)),u=Object(l.a)(d,2),b=(u[0],u[1]),O=Object(i.useState)(!1),f=Object(l.a)(O,2),m=(f[0],f[1]);return Object(i.useEffect)((function(){b(j-1>=0),m(j+1<c.length)}),[j]),Object(i.useEffect)((function(){c.forEach((function(e){(new Image).src=e.src}))}),[]),Object(n.jsx)("div",{style:{width:"25vw",minWidth:"300px",position:"relative",margin:"24px",transform:"rotate(".concat(s,"deg)")},children:Object(n.jsxs)("div",{className:"card-container",children:[Object(n.jsx)("img",{className:"card-image-underlay",alt:t,style:{width:"81%",left:"7%"},src:c[j].src}),Object(n.jsx)("img",{className:"card-graphic-overlay",src:h}),Object(n.jsxs)("div",{className:"card-text-overlay",children:[Object(n.jsx)("div",{className:"card-title",children:t}),Object(n.jsxs)("div",{className:"card-price",children:["$",a.split(".")[0]]})]})]})})}function O(e){var t=e.shopClient,c=(e.checkoutID,e.updateShopClient,Object(i.useState)([])),s=Object(l.a)(c,2),o=s[0],r=s[1];return Object(i.useEffect)((function(){null===t||void 0===t||t.product.fetchAll().then((function(e){console.log(e),r(e)}))}),[]),Object(n.jsx)("div",{className:"products-grid",children:o.map((function(e,t){return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(b,{title:e.title,images:e.images,price:e.variants[0].price,sold:!1,rotation:(c=-.8,i=.8,Math.random()*(i-c)+c)},t)});var c,i}))})}function f(e){var t=e.shopClient,c=e.checkoutID,a=e.checkoutURL,s=e.updateShopClient,o=e.closeBag,r=Object(i.useState)([]),j=Object(l.a)(r,2),d=j[0],u=j[1];Object(i.useEffect)((function(){c&&(null===t||void 0===t||t.checkout.fetch(c).then((function(e){u(e.lineItems)})))}),[]);return Object(n.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"column"},children:[Object(n.jsxs)("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},children:[Object(n.jsx)("div",{children:"bag"}),Object(n.jsx)("div",{onClick:o,children:"close"})]}),Object(n.jsx)("div",{children:d.map((function(e,i){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:e.title}),Object(n.jsxs)("div",{children:["$",e.variant.price]}),Object(n.jsx)("div",{style:{cursor:"pointer",fontWeight:"bold"},onClick:function(){!function(e){var n=[e];null===t||void 0===t||t.checkout.removeLineItems(c,n).then((function(){s()}))}(e.id)},children:"Remove from cart"}),Object(n.jsx)("img",{alt:e.title,style:{width:300},src:e.variant.image.src})]},i)}))}),Object(n.jsx)("a",{href:a,target:"_blank",className:"checkoutButton",children:"CHECKOUT"})]})}c.p;var m=c.p+"static/media/shell.6e686a57.png",p=c.p+"static/media/keith_logo.bf38ff83.svg";c.p,c(25);function x(){var e=Object(i.useState)(Date.now()),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(i.useState)(void 0),o=Object(l.a)(s,2),d=o[0],h=o[1],b=Object(i.useState)(localStorage.getItem("checkoutID")),x=Object(l.a)(b,2),g=x[0],k=x[1],S=Object(i.useState)(localStorage.getItem("checkoutURL")),y=Object(l.a)(S,2),C=y[0],w=y[1],I=Object(i.useState)(void 0),N=Object(l.a)(I,2),D=N[0],_=N[1],L=Object(i.useState)(!1),E=Object(l.a)(L,2),U=E[0],R=E[1],B=Object(i.useState)(!1),F=Object(l.a)(B,2),M=F[0],T=F[1];Object(i.useEffect)((function(){var e=u.a.buildClient({domain:"keith-lafuente.myshopify.com",storefrontAccessToken:"a165f8cd9bfb68ec8b9cf39f2545dc5b"});h(e),a(Date.now()),g&&C||e.checkout.create().then((function(e){k(e.id),w(e.webUrl),q(),localStorage.setItem("checkoutID",e.id),localStorage.setItem("checkoutURL",e.webUrl)})),g&&(null===e||void 0===e||e.checkout.fetch(g).then((function(e){if(null!==e){var t=0;e.lineItems.map((function(e){t+=e.quantity})),_(t)}})))}),[]);var q=function(){a(Date.now())};return Object(n.jsx)(r.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"background"}),Object(n.jsxs)("nav",{children:[Object(n.jsxs)("div",{className:"header-links",style:{position:"relative",width:"115px"},onClick:function(){T(!1),R(!U)},children:[Object(n.jsx)("img",{src:m,alt:"Logo"}),Object(n.jsx)("div",{style:{position:"absolute",top:"23px",left:"23px",transform:"rotate(-20deg)"},children:"Menu"})]}),Object(n.jsx)("img",{src:p,alt:"Logo"}),Object(n.jsxs)("div",{className:"header-cart-link",style:{width:"105px",marginRight:"10px",justifyContent:"flex-end"},onClick:function(){R(!1),T(!M)},children:["bag ",D?"(".concat(D,")"):"(0)"]})]}),Object(n.jsxs)("div",{className:"page",children:[Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/home",children:Object(n.jsx)(v,{})}),Object(n.jsx)(j.a,{path:"/",children:Object(n.jsx)(O,{shopClient:d,checkoutID:g,updateShopClient:q},c)})]}),Object(n.jsxs)("footer",{children:[Object(n.jsx)("div",{children:"keith lafuente 2021"}),Object(n.jsx)("div",{children:"shipping"}),Object(n.jsx)("div",{children:"contact"}),Object(n.jsx)("div",{children:"faq"})]})]}),Object(n.jsx)("div",{className:"menu ".concat(U?"menu-open":"menu-closed"),children:"Menu"}),Object(n.jsx)("div",{className:"bag ".concat(M?"bag-open":"bag-closed"),children:Object(n.jsx)(f,{shopClient:d,checkoutID:g,checkoutURL:C,updateShopClient:q,closeBag:function(){return T(!1)}},c)})]})})}function v(){return Object(n.jsx)("h2",{children:"Home"})}var g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,32)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),a(e),s(e)}))};o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),g()}},[[31,1,2]]]);
//# sourceMappingURL=main.ae33e172.chunk.js.map