(this.webpackJsonpart_and_commerce_site=this.webpackJsonpart_and_commerce_site||[]).push([[0],{25:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c(3),o=c.n(i),r=c(17),s=c.n(r),a=(c(25),c(8)),j=c(18),l=c.n(j),d=c(10),u=c(2);function h(t){var e=t.shopClient,c=t.checkoutID,r=t.updateShopClient,s=Object(i.useState)([]),j=Object(a.a)(s,2),l=j[0],d=j[1],u=Object(i.useState)(void 0),h=Object(a.a)(u,2),b=h[0],v=h[1];Object(i.useEffect)((function(){null===e||void 0===e||e.product.fetchAll().then((function(t){d(t)})),c&&(null===e||void 0===e||e.checkout.fetch(c).then((function(t){var e=0;t.lineItems.map((function(t){e+=t.quantity})),v(e)})))}),[]);return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("h2",{children:"About"}),Object(n.jsx)(O,{count:b}),l.map((function(t,i){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:t.title}),Object(n.jsxs)("div",{children:["$",t.variants[0].price]}),Object(n.jsx)("div",{style:{cursor:"pointer",fontWeight:"bold"},onClick:function(){!function(t){var n=[{variantId:t,quantity:1}];null===e||void 0===e||e.checkout.addLineItems(c,n).then((function(){r()}))}(t.variants[0].id)},children:"ADD TO CART"}),Object(n.jsx)("img",{alt:t.title,style:{width:300},src:t.images[0].src})]},i)}))]})}function O(t){return Object(n.jsx)("div",{children:t.count})}function b(t){var e=t.shopClient,c=t.checkoutID,r=t.checkoutURL,s=t.updateShopClient,j=Object(i.useState)([]),l=Object(a.a)(j,2),d=l[0],u=l[1];Object(i.useEffect)((function(){c&&(null===e||void 0===e||e.checkout.fetch(c).then((function(t){u(t.lineItems)})))}),[]);return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("h2",{children:"Cart:"}),Object(n.jsx)("div",{children:d.map((function(t,i){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:t.title}),Object(n.jsxs)("div",{children:["$",t.variant.price]}),Object(n.jsx)("div",{style:{cursor:"pointer",fontWeight:"bold"},onClick:function(){!function(t){var n=[t];null===e||void 0===e||e.checkout.removeLineItems(c,n).then((function(){s()}))}(t.id)},children:"Remove from cart"}),Object(n.jsx)("img",{alt:t.title,style:{width:300},src:t.variant.image.src})]},i)}))}),Object(n.jsx)("a",{href:r,target:"_blank",children:"CHECKOUT"})]})}function v(){var t=Object(i.useState)(Date.now()),e=Object(a.a)(t,2),c=e[0],o=e[1],r=Object(i.useState)(void 0),s=Object(a.a)(r,2),j=s[0],O=s[1],v=Object(i.useState)(localStorage.getItem("checkoutID")),S=Object(a.a)(v,2),x=S[0],_=S[1],m=Object(i.useState)(localStorage.getItem("checkoutURL")),p=Object(a.a)(m,2),C=p[0],E=p[1];Object(i.useEffect)((function(){var t=l.a.buildClient({domain:Object({NODE_ENV:"production",PUBLIC_URL:"/art_and_commerce_site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOPIFY_DOMAIN,storefrontAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"/art_and_commerce_site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHOPIFY_ACCESS_TOKEN});O(t),o(Date.now()),x&&C||t.checkout.create().then((function(t){_(t.id),E(t.webUrl),T(),localStorage.setItem("checkoutID",t.id),localStorage.setItem("checkoutURL",t.webUrl)}))}),[]);var T=function(){o(Date.now())};return Object(n.jsx)(d.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/",children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/shop",children:"Shop"})}),Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/cart",children:"Cart"})})]})}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/shop",children:Object(n.jsx)(h,{shopClient:j,checkoutID:x,updateShopClient:T},c)}),Object(n.jsx)(u.a,{path:"/cart",children:Object(n.jsx)(b,{shopClient:j,checkoutID:x,checkoutURL:C,updateShopClient:T},c)}),Object(n.jsx)(u.a,{path:"/",children:Object(n.jsx)(f,{})})]})]})})}function f(){return Object(n.jsx)("h2",{children:"Home"})}var S=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;c(t),n(t),i(t),o(t),r(t)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root")),S()}},[[33,1,2]]]);
//# sourceMappingURL=main.7ac028d6.chunk.js.map