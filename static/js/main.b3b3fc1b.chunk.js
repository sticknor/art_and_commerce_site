(this.webpackJsonpart_and_commerce_site=this.webpackJsonpart_and_commerce_site||[]).push([[0],{120:function(e,t){},121:function(e,t){},134:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c.n(a),s=c(47),o=c.n(s),l=(c(57),c(51)),r=c(21),d=c(2),j=c(8),u=c(3),b=c(48),h=c.n(b),O=c.p+"static/media/shop_card_default.0fa54fe9.png";function f(e){var t=e.title,c=e.image,a=e.price,i=e.sold;return Object(n.jsxs)("div",{className:"card-container",children:[Object(n.jsx)("img",{className:"card-image-underlay",alt:t,style:{width:"81%",left:"7%"},src:c.src}),Object(n.jsx)("img",{className:"card-graphic-overlay",src:O}),Object(n.jsxs)("div",{className:"card-text-overlay",children:[Object(n.jsx)("div",{className:"card-title",children:t}),i?Object(n.jsx)("div",{className:"card-price card-sold-out",children:"Sold\nout"}):Object(n.jsx)("div",{className:"card-price",children:"$".concat(a.split(".")[0])})]})]})}function m(e){e.shopClient,e.checkoutID,e.updateShopClient;var t=e.products,c=e.categories,i=Object(u.f)().id,s=Object(a.useState)(t),o=Object(d.a)(s,2),l=o[0],r=o[1];return Object(a.useEffect)((function(){void 0!==i&&void 0!==c[i]?r(c[i]):r(t)}),[i,t,c]),Object(n.jsx)("div",{className:"products-grid",children:l.map((function(e,t){return Object(n.jsx)(j.b,{to:"/product/".concat(e.handle),children:Object(n.jsx)("div",{className:"product-card",style:{transform:"rotate(".concat((c=-.8,a=.8,Math.random()*(a-c)+c),"deg)")},children:Object(n.jsx)(f,{title:e.title,image:e.images[0],price:e.variants[0].price,sold:t%2===0},t)})});var c,a}))})}function p(e){var t=e.shopClient,c=e.checkoutID,i=(e.checkoutURL,e.updateShopClient,e.onClose),s=e.color,o=e.open,l=e.onOpen,r=Object(a.useState)([]),j=Object(d.a)(r,2),u=(j[0],j[1]);Object(a.useEffect)((function(){c&&(null===t||void 0===t||t.checkout.fetch(c).then((function(e){u(e.lineItems)})))}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"cart-button",onClick:o?i:l,children:o?"close":"bag"}),o&&Object(n.jsx)("div",{className:"cartCancelArea",onClick:i}),Object(n.jsx)("div",{style:{backgroundColor:"".concat(s)},className:"cart ".concat(o?"cart-open":"cart-closed"),children:Object(n.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between"},children:Object(n.jsx)("div",{children:"bag"})})})]})}function v(e){var t=Object(u.f)().id,c=(e.title,e.images,e.price,e.sold,e.rotation,e.products),i=(e.onClickProduct,e.shopClient),s=e.checkoutID,o=e.updateShopClient,l=e.backgroundImage,j=Object(a.useState)(0),b=Object(d.a)(j,2),h=b[0],O=b[1],m=Object(a.useState)(null),p=Object(d.a)(m,2),v=p[0],g=p[1],x=Object(a.useState)(!1),k=Object(d.a)(x,2),C=k[0],N=k[1],S=Object(a.useState)(!1),y=Object(d.a)(S,2),I=y[0],w=y[1];Object(a.useEffect)((function(){var e,n=Object(r.a)(c);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.handle===t&&g(a)}}catch(i){n.e(i)}finally{n.f()}}),[t,c]),Object(a.useEffect)((function(){var e;null!=v&&void 0!==v.images&&(null===(e=v.images)||void 0===e||e.forEach((function(e){(new Image).src=e.src})),N(h-1>=0),w(h+1<v.images.length))}),[v,h]);return null==v?Object(n.jsx)("div",{children:"loading..."}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"detailLeftCol",style:{backgroundImage:"url(".concat(l,")")},children:[Object(n.jsx)("div",{className:"detail-card",children:Object(n.jsx)(f,{title:v.title,image:v.images[h],price:v.variants[0].price,sold:!1})}),C&&Object(n.jsx)("div",{className:"prev-button",onClick:function(){O(h-1),N(h-1>=0),w(h+1<v.images.length)}}),I&&Object(n.jsx)("div",{className:"next-button",onClick:function(){O(h+1),N(h-1>=0),w(h+1<v.images.length)}})]}),Object(n.jsxs)("div",{className:"detail-right-col",children:[Object(n.jsx)("div",{className:"menu-divider"}),Object(n.jsx)("div",{className:"detail-section",style:{fontWeight:600},children:v.title}),Object(n.jsx)("div",{className:"detail-section",children:v.description}),Object(n.jsxs)("div",{className:"detail-section",children:["$",v.variants[0].price]}),Object(n.jsxs)("div",{className:"add-to-bag-button detail-section",onClick:function(){!function(e){var t=[{variantId:e,quantity:1}];null===i||void 0===i||i.checkout.addLineItems(s,t).then((function(){o()}))}(v.variants[0].id)},children:[" ","Add to bag"]})]})]})}var g=c(50),x=c.p+"static/media/shell.6e686a57.png";function k(e){var t=e.onClose,c=e.onOpen,a=e.open,i=e.color,s=(e.shopClient,e.categories);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"menu-button",onClick:a?t:c,children:[Object(n.jsx)("img",{src:x,alt:"Menu"}),Object(n.jsx)("div",{className:"menu-button-text",children:"Menu"})]}),Object(n.jsx)("div",{className:"menu ".concat(a?"menu-open":"menu-closed"),style:Object(g.a)({background:"".concat(i)},"background","linear-gradient(90deg,".concat(i," 0%,").concat(i," 72%,transparent 100%)")),children:Object(n.jsxs)("div",{className:"menu-content",children:[Object.keys(s||{}).map((function(e){return Object(n.jsx)("div",{className:"menu-link",children:Object(n.jsx)(j.b,{to:"/collection/".concat(e),children:e})})})),Object(n.jsx)("div",{className:"menu-divider"}),Object(n.jsx)("div",{className:"menu-link",children:"archive"}),Object(n.jsx)("div",{className:"menu-link",children:"runway"}),Object(n.jsx)("div",{className:"menu-divider"}),Object(n.jsx)("div",{className:"menu-link",children:"about"}),Object(n.jsx)("div",{className:"menu-link",children:"contact"})]})}),a&&Object(n.jsx)("div",{className:"menuCancelArea",onClick:t})]})}c.p;var C=c.p+"static/media/keith_logo.bf38ff83.svg";c.p,c(62);function N(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),i=t[0],s=t[1],o=Object(a.useState)({}),b=Object(d.a)(o,2),O=b[0],f=b[1],g=Object(a.useState)(Date.now()),x=Object(d.a)(g,2),N=x[0],S=x[1],y=Object(a.useState)(void 0),I=Object(d.a)(y,2),w=I[0],D=I[1],E=Object(a.useState)(localStorage.getItem("checkoutID")),F=Object(d.a)(E,2),L=F[0],_=F[1],U=Object(a.useState)(localStorage.getItem("checkoutURL")),A=Object(d.a)(U,2),T=A[0],M=A[1],P=Object(a.useState)(void 0),R=Object(d.a)(P,2),q=(R[0],R[1]),B=Object(a.useState)(!1),G=Object(d.a)(B,2),J=G[0],Q=G[1],V=Object(a.useState)(!1),$=Object(d.a)(V,2),H=$[0],K=$[1],W=Object(a.useState)("#ffffff"),X=Object(d.a)(W,2),Y=X[0],z=X[1],Z=Object(a.useState)("#ffffff"),ee=Object(d.a)(Z,2),te=ee[0],ce=ee[1],ne=Object(a.useState)(""),ae=Object(d.a)(ne,2),ie=ae[0],se=ae[1];Object(a.useEffect)((function(){null===w||void 0===w||w.product.fetchAll().then((function(e){var t,c={},n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;void 0!==c[a.productType]?c[a.productType]=[].concat(Object(l.a)(c[a.productType]),[a]):c[a.productType]=[a]}}catch(i){n.e(i)}finally{n.f()}f(c),s(e)}))}),[w]),Object(a.useEffect)((function(){var e=h.a.buildClient({domain:"keith-lafuente.myshopify.com",storefrontAccessToken:"a165f8cd9bfb68ec8b9cf39f2545dc5b"});D(e),S(Date.now()),L&&T||e.checkout.create().then((function(e){_(e.id),M(e.webUrl),oe(),localStorage.setItem("checkoutID",e.id),localStorage.setItem("checkoutURL",e.webUrl)})),L&&(null===e||void 0===e||e.checkout.fetch(L).then((function(e){if(null!==e){var t=0;e.lineItems.map((function(e){t+=e.quantity})),q(t)}})));var t=c(63);t.configure({endpointUrl:"https://api.airtable.com",apiKey:"keyYFvAEQshdFEo1v"}),t.base("appUHQ9x9G0OAVdwX")("Variables").select({view:"Grid view"}).firstPage((function(e,t){e?console.error(e):t.forEach((function(e){var t=e.get("Background Image"),c=e.get("Menu Color"),n=e.get("Cart Color");c&&z(c),n&&ce(n),t.length>0&&se(t[0].url)}))}))}),[]);var oe=function(){S(Date.now())};return Object(n.jsx)(j.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"background"}),Object(n.jsxs)("div",{className:"page",children:[Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/product/:id",children:Object(n.jsx)(v,{shopClient:w,checkoutID:L,updateShopClient:oe,products:i,backgroundImage:ie},N)}),Object(n.jsx)(u.a,{path:"/collection/:id",children:Object(n.jsx)(m,{shopClient:w,checkoutID:L,updateShopClient:oe,products:i,categories:O},N)}),Object(n.jsx)(u.a,{path:"/",children:Object(n.jsx)(m,{shopClient:w,checkoutID:L,updateShopClient:oe,products:i},N)})]}),Object(n.jsxs)("footer",{children:[Object(n.jsx)("div",{children:"keith lafuente 2021"}),Object(n.jsx)("div",{children:"shipping"}),Object(n.jsx)("div",{children:"contact"}),Object(n.jsx)("div",{children:"faq"})]})]}),Object(n.jsx)(k,{open:J,onOpen:function(){Q(!0)},onClose:function(){Q(!1)},color:Y,shopClient:w,categories:O}),Object(n.jsx)(j.b,{to:"/",className:"logo",children:Object(n.jsx)("img",{src:C,alt:"Logo"})}),Object(n.jsx)(p,{shopClient:w,checkoutID:L,checkoutURL:T,updateShopClient:oe,onClose:function(){return K(!1)},onOpen:function(){K(!0)},open:H,color:te},N)]})})}var S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,135)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),S()},57:function(e,t,c){},62:function(e,t,c){}},[[134,1,2]]]);
//# sourceMappingURL=main.b3b3fc1b.chunk.js.map